<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Merchant Sign Up</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css">
</head>
<body>
    <h2>Merchant Sign Up</h2>
    <form action="{{ url_for('merchant_signup') }}" method="post" id="merchantSignupForm" enctype="multipart/form-data">
        <label for="businessName">Business Name:</label>
        <input type="text" id="businessName" name="businessName" value="{{ request.form.get('businessName', '') }}" required><br><br>

        <label for="contactPersonName">Contact Person Name:</label>
        <input type="text" id="contactPersonName" name="contactPersonName" value="{{ request.form.get('contactPersonName', '') }}" required><br><br>

        <label for="username">Username:</label>
        <input type="text" id="username" name="username" value="{{ request.form.get('username', '') }}" required><br><br>

        <label for="email">Email:</label>
        <input type="email" id="email" name="email" value="{{ request.form.get('email', '') }}" required><br><br>

        <label for="password">Password:</label>
        <input type="password" id="password" name="password" required><br><br>

        <label for="confirmPassword">Confirm Password:</label>
        <input type="password" id="confirmPassword" name="confirmPassword" required><br><br>

        <label for="phone">Phone:</label>
        <input type="text" id="phone" name="phone" value="{{ request.form.get('phone', '') }}" required><br><br>

        <label for="bankName">Bank Name:</label>
        <input type="text" id="bankName" name="bankName" value="{{ request.form.get('bankName', '') }}" required><br><br>

        <label for="accountNumber">Account Number:</label>
        <input type="text" id="accountNumber" name="accountNumber" value="{{ request.form.get('accountNumber', '') }}" required><br><br>

        <label for="preferredPaymentMethods">Preferred Payment Methods:</label>
        <select id="preferredPaymentMethods" name="preferredPaymentMethods" required>
            <option value="">Select Payment Method</option>
            <option value="Mpesa" {% if request.form.get('preferredPaymentMethods') == 'Mpesa' %}selected{% endif %}>Mpesa</option>
            <option value="Bank" {% if request.form.get('preferredPaymentMethods') == 'Bank' %}selected{% endif %}>Bank</option>
        </select><br><br>

        <label for="businessLicense">Upload Business License:</label>
        <input type="file" id="businessLicense" name="businessLicense" required><br><br>

        <label for="idProof">Upload ID Proof:</label>
        <input type="file" id="idProof" name="idProof" required><br><br>

        <label for="agreeTerms">Agree to Terms:</label>
        <input type="checkbox" id="agreeTerms" name="agreeTerms" value="yes" required><br><br>

        <button type="submit">Sign Up</button>
    </form>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
    <script>
        $(document).ready(function() {
            {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                    {% for category, message in messages %}
                        toastr.{{ category }}("{{ message }}");
                    {% endfor %}
                {% endif %}
            {% endwith %}
        });
    </script>
</body>
</html>
